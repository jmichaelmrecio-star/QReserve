<!-- 5a154cd5-a8d9-43dd-a9bc-1e9e49a44b68 ee815a27-56f8-4304-b01a-a067b3905e4f -->
# QReserve Enhancements Plan

## 1. Backend APIs (trr-backend/)

- `setup-api`: add new routes/controllers for blocking/unblocking dates, listing active blocks, promo CRUD (create/list/delete), and ensure confirm/cancel reservation endpoints align with frontend. Reuse `reservationController.js` and create/update promo + blocked-date controllers. Wire routes under Express router.

## 2. Admin Dashboard UI (admin-dashboard.html & script.js)

- `admin-block-ui`: complete block-date form wiring (load services, submit to new backend endpoint, render block list, add unblock buttons). Update JS to fetch blocked dates on load.
- `admin-promo-ui`: connect promo creation form to backend create endpoint, add delete buttons per row, update table refresh logic to call backend list/delete APIs.
- `admin-reservation-actions`: fix `confirmReservation`/`cancelReservation` handlers to call backend update routes, refresh table, and handle statuses consistently (normalize casing, update UI on success).

## 3. Public Site Updates

- `home-promos-blocks`: update `index.html` + `script.js` to fetch active promo codes and blocked dates from backend; render promo cards with expiration, and blocked date list in a new UI section.

## 4. Amenities Page

- `amenities-page`: create `amenities.html` leveraging `resortServices` data. Implement filter controls (e.g., dropdown or checkboxes for Standard/Family/Pool). Each card shows image, description, price, guest limit, more photos button (opens modal/gallery) and book now button linking to `services-list.html`. Add supportive CSS in `style.css` and JS in `script.js` for filtering/modal logic.

## 5. Integration & QA

- `init-hooks`: ensure `DOMContentLoaded` block calls new fetch/render functions on relevant pages. Add graceful fallbacks if backend unavailable.
- `qa`: smoke-test admin flows (block/unblock dates, promo create/delete, reservation confirm/cancel) and public pages (index promo/block display, amenities filtering) using backend API responses.