// Temporary cleanup endpoint
router.delete('/admin/cleanup/reservations-today', async (req, res) => {
    try {
        const today = new Date();
        const year = today.getFullYear();
        const month = String(today.getMonth() + 1).padStart(2, '0');
        const day = String(today.getDate()).padStart(2, '0');
        const datePrefix = `TRR-${year}${month}${day}`;

        const result = await Reservation.deleteMany({
            reservationId: { $regex: `^${datePrefix}` }
        });

        res.json({
            success: true,
            message: `Deleted ${result.deletedCount} reservations from today`,
            deletedCount: result.deletedCount
        });
    } catch (error) {
        res.status(500).json({ success: false, error: error.message });
    }
});
